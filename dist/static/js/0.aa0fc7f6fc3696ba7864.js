webpackJsonp([0],{"8+jx":function(t,e,n){"use strict";var o=n("I4Fq"),a={data:function(){return{vcode:"",rightCode:""}},computed:{bid:function(){return this.$route.query.bid}},watch:{bid:function(t,e){this.getCode()}},methods:{sendComment:function(){var t=document.getElementById("comment_code").value,e=document.getElementById("comment_name").value,n=document.getElementById("comment_email").value,a=document.getElementById("comment_content").value,c=document.getElementById("comment_reply").value,i=document.getElementById("comment_reply_name").value;t==this.rightCode?Object(o.a)({method:"get",url:"/sendComment?bid="+this.bid+"&parent="+c+"&name="+e+"&content="+a+"&email="+n+"&parentName="+i}).then(function(t){alert("评论提交成功！")}).catch(function(t){console.log("错误")}):alert("验证码有误！")},getCode:function(){var t=this;Object(o.a)({method:"get",url:"/queryRandomCode"}).then(function(e){t.vcode=e.data.data.data,t.rightCode=e.data.data.text})},changeCode:function(){this.getCode()}},created:function(){this.getCode()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"send_comments",attrs:{id:"send_comments"}},[n("span",[t._v("发表评论")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",[n("input",{attrs:{type:"text",placeholder:"验证码",id:"comment_code"}}),t._v(" "),n("span",{staticClass:"code",domProps:{innerHTML:t._s(t.vcode)},on:{click:t.changeCode}})]),t._v(" "),n("button",{on:{click:t.sendComment}},[t._v("提交留言")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{type:"hidden",id:"comment_reply",value:"-1"}}),this._v(" "),e("input",{attrs:{type:"hidden",id:"comment_reply_name",value:""}}),this._v(" "),e("input",{attrs:{type:"text",placeholder:"昵称",name:"username",id:"comment_name"}}),this._v(" "),e("input",{attrs:{type:"text",placeholder:"邮箱(评论回复时你会收到通知)",id:"comment_email"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("textarea",{attrs:{id:"comment_content",placeholder:"无意义的内容我可能不会回复你"}})])}]};var i=n("C7Lr")(a,c,!1,function(t){n("UJoy")},"data-v-95a22a18",null);e.a=i.exports},"9AUj":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},NPQL:function(t,e){},UJoy:function(t,e){},jzFm:function(t,e,n){"use strict";var o=n("I4Fq"),a={data:function(){return{total:0,commentList:[]}},computed:{bid:function(){return this.$route.query.bid}},watch:{bid:function(t,e){this.init()}},methods:{replyComment:function(t,e){var n=document.getElementById("comment_reply"),o=document.getElementById("comment_reply_name");n.value=t,o.value=e},init:function(){var t=this;Object(o.a)({method:"get",url:"/queryCommentsByBlogId?bid="+this.bid}).then(function(e){t.commentList=e.data.data,t.commentList.map(function(t){return t.options="",t.parent>-1&&(t.options="回复@"+t.parent_name),t})}).catch(function(t){console.log(t)}),Object(o.a)({method:"get",url:"/queryBlogCommentCount?bid="+this.bid}).then(function(e){t.total=e.data.data[0].count}).catch(function(t){console.log(t)})}},created:function(){this.init()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blog_comments"},[n("span",{staticClass:"blog_comments_msg"},[t._v("关于：目前有"+t._s(t.total)+"条留言")]),t._v(" "),t._l(t.commentList,function(e){return n("div",{key:e.id,staticClass:"blog_comment"},[n("span",[n("b",[t._v(t._s(e.user_name))]),t._v("\n            ："+t._s(e.options)+"发表于"+t._s(e.ctime)+"\n            "),n("a",{attrs:{href:"#send_comments"},on:{click:function(n){return t.replyComment(e.id,e.user_name)}}},[t._v("[回复]")])]),t._v(" "),n("div",[t._v(t._s(e.comments))])])})],2)},staticRenderFns:[]};var i=n("C7Lr")(a,c,!1,function(t){n("NPQL")},"data-v-abaa321c",null);e.a=i.exports}});
//# sourceMappingURL=0.aa0fc7f6fc3696ba7864.js.map